"use strict";define("dummy/app",["exports","ember","dummy/resolver","ember-load-initializers","dummy/config/environment"],function(e,n,t,a,r){var i=void 0;n["default"].MODEL_FACTORY_INJECTIONS=!0,i=n["default"].Application.extend({modulePrefix:r["default"].modulePrefix,podModulePrefix:r["default"].podModulePrefix,Resolver:t["default"]}),(0,a["default"])(i,r["default"].modulePrefix),e["default"]=i}),define("dummy/components/app-version",["exports","ember-cli-app-version/components/app-version","dummy/config/environment"],function(e,n,t){var a=t["default"].APP.name,r=t["default"].APP.version;e["default"]=n["default"].extend({version:r,name:a})}),define("dummy/components/code-snippet",["exports","ember","dummy/snippets"],function(e,n,t){var a=require("highlight.js");e["default"]=n["default"].Component.extend({tagName:"pre",classNameBindings:["language"],unindent:!0,_unindent:function(e){if(!this.get("unindent"))return e;for(var n,t,a=e.split("\n"),r=0;r<a.length;r++)n=/^\s*/.exec(a[r]),n&&("undefined"==typeof t||t>n[0].length)&&(t=n[0].length);return"undefined"!=typeof t&&t>0&&(e=e.replace(new RegExp("(\\n|^)\\s{"+t+"}","g"),"$1")),e},source:n["default"].computed("name",function(){return this._unindent((t["default"][this.get("name")]||"").replace(/^(\s*\n)*/,"").replace(/\s*$/,""))}),didInsertElement:function(){a.highlightBlock(this.get("element"))},language:n["default"].computed("name",function(){var e=/\.(\w+)$/i.exec(this.get("name"));if(e)switch(e[1].toLowerCase()){case"js":return"javascript";case"coffee":return"coffeescript";case"hbs":return"handlebars";case"css":return"css";case"scss":return"scss";case"less":return"less";case"emblem":return"emblem"}})})}),define("dummy/components/profile-upload",["exports","ember-profile-upload/components/profile-upload"],function(e,n){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n["default"]}})}),define("dummy/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,n){e["default"]=n["default"]}),define("dummy/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,n){e["default"]=n["default"]}),define("dummy/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","dummy/config/environment"],function(e,n,t){e["default"]={name:"App Version",initialize:(0,n["default"])(t["default"].APP.name,t["default"].APP.version)}}),define("dummy/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,n){e["default"]={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",n["default"]),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("dummy/initializers/data-adapter",["exports","ember"],function(e,n){e["default"]={name:"data-adapter",before:"store",initialize:n["default"].K}}),define("dummy/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,n,t){e["default"]={name:"ember-data",initialize:n["default"]}}),define("dummy/initializers/export-application-global",["exports","ember","dummy/config/environment"],function(e,n,t){function a(){var e=arguments[1]||arguments[0];if(t["default"].exportApplicationGlobal!==!1){var a,r=t["default"].exportApplicationGlobal;a="string"==typeof r?r:n["default"].String.classify(t["default"].modulePrefix),window[a]||(window[a]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[a]}}))}}e.initialize=a,e["default"]={name:"export-application-global",initialize:a}}),define("dummy/initializers/injectStore",["exports","ember"],function(e,n){e["default"]={name:"injectStore",before:"store",initialize:n["default"].K}}),define("dummy/initializers/store",["exports","ember"],function(e,n){e["default"]={name:"store",after:"ember-data",initialize:n["default"].K}}),define("dummy/initializers/transforms",["exports","ember"],function(e,n){e["default"]={name:"transforms",before:"store",initialize:n["default"].K}}),define("dummy/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,n){e["default"]={name:"ember-data",initialize:n["default"]}}),define("dummy/resolver",["exports","ember-resolver"],function(e,n){e["default"]=n["default"]}),define("dummy/router",["exports","ember","dummy/config/environment"],function(e,n,t){var a=n["default"].Router.extend({location:t["default"].locationType});a.map(function(){}),e["default"]=a}),define("dummy/services/ajax",["exports","ember-ajax/services/ajax"],function(e,n){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n["default"]}})}),define("dummy/services/profile-upload",["exports","ember"],function(e,n){e["default"]=n["default"].Service.extend({upload:function(e){return new Promise(function(n){var t=new FileReader;t.onload=function(e){n(e.target.result)},t.readAsDataURL(e)})},deserializeResponse:function(e){return e}})}),define("dummy/snippets",["exports"],function(e){e["default"]={"component-use.hbs":'{{profile-upload\n  class="profile-upload"\n  fileUrl=url\n  placeholderUrl="/profile-59e75391ebe95ab109f819485344cf32.jpg"\n  onchange=(action (mut url))}}',"filereader-service.js":"export default Ember.Service.extend({\n  upload(file) {\n    return new Promise((resolve) => {\n      var reader = new FileReader();\n      reader.onload = (function(e) {\n        resolve(e.target.result);\n      });\n\n      reader.readAsDataURL(file);\n    });\n  },\n\n  deserializeResponse(dataUrl) {\n    return dataUrl;\n  }\n});","loopback-service.js":"import Ember from 'ember';\nimport config from '../config/environment';\n\nexport default Ember.Service.extend({\n  upload(file) {\n    const data = new FormData();\n    data.append(`value`, file);\n\n    return Ember.$.ajax({\n      data,\n      method: `POST`,\n      cache: false,\n      processData: false,\n      contentType: false,\n      url: `${config.apiHost}/api/containers/${config.containerName}/upload`,\n    });\n  },\n\n  destroy(file) {\n    const url = file.replace(`download`, `files`);\n\n    return Ember.$.ajax({\n      method: `DELETE`,\n      url,\n    });\n  },\n\n  deserializeResponse(response) {\n    const data = response.result.files.value[0];\n\n    return `${config.apiHost}/api/containers/${data.container}/download/${data.name}`;\n  },\n\n  requestError(err) {\n    // Handle request errors here\n    console.log(err);\n  },\n});\n"}}),define("dummy/templates/application",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes","wrong-type"]},revision:"Ember@2.5.1",loc:{source:null,start:{line:1,column:0},end:{line:38,column:0}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var n=e.createDocumentFragment(),t=e.createElement("h1"),a=e.createTextNode("Ember Profile Upload");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createComment("");e.appendChild(n,t);var t=e.createTextNode("\n");e.appendChild(n,t);var t=e.createTextNode("\n");e.appendChild(n,t);var t=e.createElement("h2"),a=e.createTextNode("Outside URL:");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("img");e.setAttribute(t,"alt",""),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("h2"),a=e.createTextNode("Using Ember Profile Upload");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("p"),a=e.createTextNode("\n  This example shows using the ");e.appendChild(t,a);var a=e.createElement("code"),r=e.createTextNode("profile-upload");e.appendChild(a,r),e.appendChild(t,a);var a=e.createTextNode(" component to change the ");e.appendChild(t,a);var a=e.createElement("code"),r=e.createTextNode("url");e.appendChild(a,r),e.appendChild(t,a);var a=e.createTextNode(" value in our current template.\n");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createComment("");e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("h2"),a=e.createTextNode("Creating a ");e.appendChild(t,a);var a=e.createElement("code"),r=e.createTextNode("profile-upload");e.appendChild(a,r),e.appendChild(t,a);var a=e.createTextNode(" Service");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("p"),a=e.createTextNode("\n  This example shows an example ");e.appendChild(t,a);var a=e.createElement("code"),r=e.createTextNode("profile-upload");e.appendChild(a,r),e.appendChild(t,a);var a=e.createTextNode(" service to work with Loopback storage APIs.\n");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createComment("");e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("h2"),a=e.createTextNode("Using Local File Upload");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createElement("p"),a=e.createTextNode("\n  This page doesn't actually upload photos, it only shows local files with ");e.appendChild(t,a);var a=e.createElement("a");e.setAttribute(a,"href","https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications#Example_Showing_thumbnails_of_user-selected_images");var r=e.createTextNode("FileReader");e.appendChild(a,r),e.appendChild(t,a);var a=e.createTextNode(".\n");e.appendChild(t,a),e.appendChild(n,t);var t=e.createTextNode("\n\n");e.appendChild(n,t);var t=e.createComment("");e.appendChild(n,t);var t=e.createTextNode("\n");return e.appendChild(n,t),n},buildRenderNodes:function(e,n,t){var a=e.childAt(n,[7]),r=new Array(5);return r[0]=e.createMorphAt(n,2,2,t),r[1]=e.createAttrMorph(a,"src"),r[2]=e.createMorphAt(n,13,13,t),r[3]=e.createMorphAt(n,19,19,t),r[4]=e.createMorphAt(n,25,25,t),r},statements:[["inline","profile-upload",[],["class","profile-upload","fileUrl",["subexpr","@mut",[["get","url",["loc",[null,[6,10],[6,13]]]]],[],[]],"placeholderUrl","/profile-59e75391ebe95ab109f819485344cf32.jpg","onchange",["subexpr","action",[["subexpr","mut",[["get","url",["loc",[null,[8,24],[8,27]]]]],[],["loc",[null,[8,19],[8,28]]]]],[],["loc",[null,[8,11],[8,29]]]]],["loc",[null,[4,0],[8,31]]]],["attribute","src",["concat",[["get","url",["loc",[null,[13,12],[13,15]]]]]]],["inline","code-snippet",[],["name","component-use.hbs"],["loc",[null,[21,0],[21,41]]]],["inline","code-snippet",[],["name","loopback-service.js"],["loc",[null,[29,0],[29,43]]]],["inline","code-snippet",[],["name","filereader-service.js"],["loc",[null,[37,0],[37,45]]]]],locals:[],templates:[]}}())}),define("dummy/templates/components/code-snippet",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["wrong-type"]},revision:"Ember@2.5.1",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"dummy/templates/components/code-snippet.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var n=e.createDocumentFragment(),t=e.createComment("");e.appendChild(n,t);var t=e.createTextNode("\n");return e.appendChild(n,t),n},buildRenderNodes:function(e,n,t){var a=new Array(1);return a[0]=e.createMorphAt(n,0,0,t),e.insertBoundary(n,0),a},statements:[["content","source",["loc",[null,[1,0],[1,10]]]]],locals:[],templates:[]}}())}),define("dummy/config/environment",["ember"],function(e){var n="dummy";try{var t=n+"/config/environment",a=e["default"].$('meta[name="'+t+'"]').attr("content"),r=JSON.parse(unescape(a));return{"default":r}}catch(i){throw new Error('Could not read config from meta tag with name "'+t+'".')}}),runningTests||require("dummy/app")["default"].create({name:"ember-profile-upload",version:"1.0.2+6bf1c268"});